<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ghibran blog</title>
</head>

<body>
    <nav></nav>
    <main id="out">this is index</main>
    <footer></footer>

    <script src="/libs/js-yaml.min.js"></script>
    <script>
        async function main(){
        let postYAML = await fetch("/list.yaml").then(res => res.text());
        let posts = jsyaml.load(postYAML);

        let html = ""
        posts.forEach(p => {
            html += generate(p.title,p.desc,p.markdown)
        });

        let out = document.querySelector('#out')
        out.innerHTML = html;
        }

        function generate(title, desc, link){
            return `
            <div>
                ${title}
                </br>
                ${desc}
                </br>
                <a href="/blog.html?post=${link}">here</a>
            </div>
            `
        }
        main();
    </script>
</body>

</html>